<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>BhenzFlix Music</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:url("file_00000000e5647209a6f0034bc9238384.png") no-repeat center center fixed;
background-size:cover;
color:white;
text-align:center;
}

.overlay{
background:rgba(0,0,0,0.80);
min-height:100vh;
padding-top:30px;
}

h1{
color:red;
text-shadow:0 0 20px red;
margin-bottom:15px;
}

/* PREMIUM CONTROLS */
.premiumControls{
margin-top:15px;
}

.premiumControls button{
background:linear-gradient(145deg,#ff0000,#990000);
border:none;
color:white;
font-size:22px;
margin:8px;
padding:15px 20px;
border-radius:50%;
box-shadow:0 0 15px red;
cursor:pointer;
transition:0.3s;
}

.premiumControls button:hover{
transform:scale(1.1);
box-shadow:0 0 25px red;
}

.toggleBtn{
margin-top:10px;
padding:8px 15px;
background:red;
border:none;
color:white;
border-radius:5px;
cursor:pointer;
}

/* PLAYLIST */
#playlist{
display:none;
margin-top:20px;
width:90%;
margin:auto;
background:rgba(0,0,0,0.6);
border-radius:10px;
padding:10px;
}

#playlist div{
padding:10px;
border-bottom:1px solid rgba(255,255,255,0.2);
cursor:pointer;
}

#playlist div:hover{
background:rgba(255,0,0,0.4);
}

/* EQ PANEL */
#eqPanel{
display:none;
margin-top:15px;
background:rgba(0,0,0,0.7);
padding:10px;
border-radius:10px;
width:90%;
margin:auto;
}

#eqPanel input{
width:80%;
}

canvas{
width:100%;
height:120px;
margin-top:20px;
}
</style>
</head>

<body>

<div class="overlay">

<h1>üî• BhenzFlix Music üî•</h1>

<audio id="audio"></audio>

<div class="premiumControls">
<button onclick="prevSong()">‚èÆ</button>
<button id="playBtn" onclick="togglePlay()">‚ñ∂</button>
<button onclick="nextSong()">‚è≠</button>
</div>

<button class="toggleBtn" onclick="togglePlaylist()">üéµ Playlist</button>
<button class="toggleBtn" onclick="toggleEQ()">‚öô Equalizer</button>

<div id="playlist"></div>

<div id="eqPanel">
SUB<br>
<input type="range" id="sub" min="-30" max="30" value="0"><br>
BASS<br>
<input type="range" id="bass" min="-30" max="30" value="0"><br>
MID<br>
<input type="range" id="mid" min="-30" max="30" value="0"><br>
TREBLE<br>
<input type="range" id="treble" min="-30" max="30" value="0">
</div>

<canvas id="visualizer"></canvas>

</div>

<script>

const songs = [
"03 - Red Hot Chili Peppers - Californication.mp3",
"04 - Avenged Sevenfold - Buried Alive.mp3",
"05 - Red Hot Chili Peppers - Scar Tissue.mp3",
"06 - Red Hot Chili Peppers - Snow (Hey Oh).mp3",
"07 - Linkin Park - What I've Done.mp3",
"10 - Avenged Sevenfold - Unholy Confessions.mp3",
"13 - Avenged Sevenfold - Seize the Day.mp3"
];

const audio = document.getElementById("audio");
const playlist = document.getElementById("playlist");
const playBtn = document.getElementById("playBtn");

let currentIndex = 0;

/* LOAD SONG */
function loadSong(index){
currentIndex = index;
audio.src = songs[index];
audio.play();
playBtn.innerText = "‚è∏";
}

/* PLAY / PAUSE */
function togglePlay(){
if(audio.paused){
audio.play();
playBtn.innerText = "‚è∏";
}else{
audio.pause();
playBtn.innerText = "‚ñ∂";
}
}

/* NEXT / PREV */
function nextSong(){
currentIndex = (currentIndex + 1) % songs.length;
loadSong(currentIndex);
}

function prevSong(){
currentIndex = (currentIndex - 1 + songs.length) % songs.length;
loadSong(currentIndex);
}

/* AUTO NEXT */
audio.addEventListener("ended", nextSong);

/* CREATE PLAYLIST */
songs.forEach((song,index)=>{
let div=document.createElement("div");
div.innerText=song;
div.onclick=()=>{ loadSong(index); };
playlist.appendChild(div);
});

/* TOGGLE PANELS */
function togglePlaylist(){
playlist.style.display = playlist.style.display==="block"?"none":"block";
}

function toggleEQ(){
let panel=document.getElementById("eqPanel");
panel.style.display = panel.style.display==="block"?"none":"block";
}

/* AUDIO CONTEXT */
let audioCtx, source, analyser, sub, bass, mid, treble;

audio.addEventListener("play",()=>{

if(!audioCtx){

audioCtx=new (window.AudioContext||window.webkitAudioContext)();
source=audioCtx.createMediaElementSource(audio);
analyser=audioCtx.createAnalyser();
analyser.fftSize=256;

sub=audioCtx.createBiquadFilter();
sub.type="lowshelf"; sub.frequency.value=60;

bass=audioCtx.createBiquadFilter();
bass.type="lowshelf"; bass.frequency.value=150;

mid=audioCtx.createBiquadFilter();
mid.type="peaking"; mid.frequency.value=1000; mid.Q.value=1;

treble=audioCtx.createBiquadFilter();
treble.type="highshelf"; treble.frequency.value=4000;

source.connect(sub)
.connect(bass)
.connect(mid)
.connect(treble)
.connect(analyser)
.connect(audioCtx.destination);

document.getElementById("sub").oninput=e=>sub.gain.value=e.target.value;
document.getElementById("bass").oninput=e=>bass.gain.value=e.target.value;
document.getElementById("mid").oninput=e=>mid.gain.value=e.target.value;
document.getElementById("treble").oninput=e=>treble.gain.value=e.target.value;

startVisualizer();

}

});

/* VISUALIZER */
function startVisualizer(){

const canvas=document.getElementById("visualizer");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=120;

const bufferLength=analyser.frequencyBinCount;
const dataArray=new Uint8Array(bufferLength);

function draw(){
requestAnimationFrame(draw);
analyser.getByteFrequencyData(dataArray);
ctx.clearRect(0,0,canvas.width,canvas.height);

let barWidth=(canvas.width/bufferLength)*2;
let x=0;

for(let i=0;i<bufferLength;i++){
let barHeight=dataArray[i];
ctx.fillStyle="red";
ctx.fillRect(x,canvas.height-barHeight/1.5,barWidth,barHeight/1.5);
x+=barWidth+1;
}
}

draw();
}

/* LOAD FIRST */
audio.src = songs[0];

</script>

</body>
</html>
