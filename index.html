<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>BhenzFlix Music</title>

<style>
body{
margin:0;
font-family:Arial, sans-serif;
background-color:black;
background-image:url("file_00000000e5647209a6f0034bc9238384.png");
background-repeat:no-repeat;
background-position:center center;
background-size:contain;
background-attachment:fixed;
color:white;
text-align:center;
}

.overlay{
background:rgba(0,0,0,0.85);
min-height:100vh;
padding-top:30px;
}

h1{
color:red;
text-shadow:0 0 20px red;
}

#nowPlaying{
margin-top:10px;
font-size:14px;
color:white;
text-shadow:0 0 10px red;
}

/* CONTROLS */
.controls{
margin-top:15px;
}

.controls button{
background:linear-gradient(145deg,#ff0000,#990000);
border:none;
color:white;
font-size:20px;
margin:8px;
padding:15px 18px;
border-radius:50%;
box-shadow:0 0 15px red;
cursor:pointer;
transition:0.3s;
}

.controls button:hover{
transform:scale(1.15);
box-shadow:0 0 30px red;
}

/* PROGRESS */
.progressContainer{
width:90%;
margin:20px auto;
display:flex;
align-items:center;
gap:10px;
font-size:12px;
}

#progressBar{
-webkit-appearance:none;
appearance:none;
flex:1;
height:8px;
border-radius:10px;
background:#444;
outline:none;
cursor:pointer;
}

#progressBar::-webkit-slider-thumb{
-webkit-appearance:none;
appearance:none;
width:18px;
height:18px;
border-radius:50%;
background:#ff0000;
box-shadow:0 0 15px red;
cursor:pointer;
}

/* PLAYLIST */
#playlist{
display:none;
width:90%;
margin:20px auto;
background:rgba(0,0,0,0.6);
border-radius:10px;
padding:10px;
}

#playlist div{
padding:10px;
border-bottom:1px solid rgba(255,255,255,0.2);
cursor:pointer;
}

#playlist div.active{
background:rgba(255,0,0,0.5);
}

/* EQ */
#eqPanel{
display:none;
width:90%;
margin:15px auto;
background:rgba(0,0,0,0.7);
padding:10px;
border-radius:10px;
}

#eqPanel input{
width:80%;
}

/* VISUALIZER */
canvas{
width:100%;
height:120px;
margin-top:20px;
}
</style>
</head>

<body>

<div class="overlay">

<h1>üî• BhenzFlix Music üî•</h1>
<h3 id="nowPlaying"></h3>

<audio id="audio"></audio>

<div class="controls">
<button onclick="prevSong()">‚èÆ</button>
<button id="playBtn" onclick="togglePlay()">‚ñ∂</button>
<button onclick="nextSong()">‚è≠</button>
<button onclick="toggleShuffle()">üîÄ</button>
<button onclick="toggleLoop()">üîÅ</button>
</div>

<div class="progressContainer">
<span id="currentTime">0:00</span>
<input type="range" id="progressBar" value="0" min="0" step="1">
<span id="duration">0:00</span>
</div>

<button onclick="togglePlaylist()">üéµ Playlist</button>
<button onclick="toggleEQ()">‚öô Equalizer</button>

<div id="playlist"></div>

<div id="eqPanel">
SUB<br><input type="range" id="sub" min="-30" max="30" value="0"><br>
BASS<br><input type="range" id="bass" min="-30" max="30" value="0"><br>
MID<br><input type="range" id="mid" min="-30" max="30" value="0"><br>
TREBLE<br><input type="range" id="treble" min="-30" max="30" value="0">
</div>

<canvas id="visualizer"></canvas>

</div>

<script>

const songs=[
"03 - Red Hot Chili Peppers - Californication.mp3",
"04 - Avenged Sevenfold - Buried Alive.mp3",
"05 - Red Hot Chili Peppers - Scar Tissue.mp3",
"06 - Red Hot Chili Peppers - Snow (Hey Oh).mp3",
"07 - Linkin Park - What I've Done.mp3",
"10 - Avenged Sevenfold - Unholy Confessions.mp3",
"13 - Avenged Sevenfold - Seize the Day.mp3"
];

const audio=document.getElementById("audio");
const playlist=document.getElementById("playlist");
const playBtn=document.getElementById("playBtn");
const progressBar=document.getElementById("progressBar");
const currentTimeEl=document.getElementById("currentTime");
const durationEl=document.getElementById("duration");
const nowPlaying=document.getElementById("nowPlaying");

let currentIndex=0;
let isShuffle=false;
let isLoop=false;

/* BUILD PLAYLIST */
songs.forEach((song,index)=>{
let div=document.createElement("div");
div.innerText=song;
div.onclick=()=>loadSong(index);
playlist.appendChild(div);
});

function highlight(){
document.querySelectorAll("#playlist div").forEach((el,i)=>{
el.classList.toggle("active",i===currentIndex);
});
}

function loadSong(index){
currentIndex=index;
audio.src=songs[index];
audio.play();
playBtn.innerText="‚è∏";
highlight();
nowPlaying.textContent="Now Playing: "+songs[index];
}

function togglePlay(){
if(audio.paused){
audio.play();
playBtn.innerText="‚è∏";
}else{
audio.pause();
playBtn.innerText="‚ñ∂";
}
}

function nextSong(){
if(isShuffle){
currentIndex=Math.floor(Math.random()*songs.length);
}else{
currentIndex=(currentIndex+1)%songs.length;
}
loadSong(currentIndex);
}

function prevSong(){
currentIndex=(currentIndex-1+songs.length)%songs.length;
loadSong(currentIndex);
}

function toggleShuffle(){
isShuffle=!isShuffle;
alert("Shuffle: "+(isShuffle?"ON":"OFF"));
}

function toggleLoop(){
isLoop=!isLoop;
audio.loop=isLoop;
alert("Loop: "+(isLoop?"ON":"OFF"));
}

audio.addEventListener("ended",()=>{
if(!isLoop) nextSong();
});

audio.addEventListener("timeupdate",()=>{
progressBar.value=audio.currentTime;
currentTimeEl.textContent=formatTime(audio.currentTime);
});

audio.addEventListener("loadedmetadata",()=>{
progressBar.max=audio.duration;
durationEl.textContent=formatTime(audio.duration);
});

progressBar.addEventListener("input",()=>{
audio.currentTime=progressBar.value;
});

function formatTime(t){
let m=Math.floor(t/60);
let s=Math.floor(t%60);
if(s<10) s="0"+s;
return m+":"+s;
}

function togglePlaylist(){
playlist.style.display=playlist.style.display==="block"?"none":"block";
}

function toggleEQ(){
let eq=document.getElementById("eqPanel");
eq.style.display=eq.style.display==="block"?"none":"block";
}

/* VISUALIZER */
let audioCtx, analyser, source;

audio.addEventListener("play",()=>{
if(!audioCtx){
audioCtx=new (window.AudioContext||window.webkitAudioContext)();
source=audioCtx.createMediaElementSource(audio);
analyser=audioCtx.createAnalyser();
analyser.fftSize=256;
source.connect(analyser);
analyser.connect(audioCtx.destination);
startVisualizer();
}
});

function startVisualizer(){
const canvas=document.getElementById("visualizer");
const ctx=canvas.getContext("2d");
canvas.width=window.innerWidth;
canvas.height=120;

const bufferLength=analyser.frequencyBinCount;
const dataArray=new Uint8Array(bufferLength);

function draw(){
requestAnimationFrame(draw);
analyser.getByteFrequencyData(dataArray);
ctx.clearRect(0,0,canvas.width,canvas.height);
let barWidth=(canvas.width/bufferLength)*2;
let x=0;
for(let i=0;i<bufferLength;i++){
let barHeight=dataArray[i];
ctx.fillStyle="red";
ctx.fillRect(x,canvas.height-barHeight/1.5,barWidth,barHeight/1.5);
x+=barWidth+1;
}
}
draw();
}

/* LOAD FIRST */
loadSong(0);

</script>

</body>
</html>
