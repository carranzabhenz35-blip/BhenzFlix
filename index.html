<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>BhenzFlix Music</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:black;
    color:white;
    text-align:center;
    overflow-x:hidden;
}

/* BLUR BACKGROUND */
#bg{
    position:fixed;
    width:100%;
    height:100%;
    background:linear-gradient(black,#200000);
    z-index:-1;
}

/* TOP BAR */
.topbar{
    background:#111;
    padding:15px;
    font-size:20px;
    letter-spacing:4px;
    color:red;
    box-shadow:0 0 20px red;
}

/* ALBUM */
.album{
    width:220px;
    height:220px;
    border-radius:50%;
    margin:30px auto 20px;
    box-shadow:0 0 40px red;
    overflow:hidden;
}

#cover{
    width:100%;
    height:100%;
    object-fit:cover;
}

/* TITLE */
#title{
    font-size:18px;
    margin:15px;
}

/* PROGRESS */
#progress{
    width:85%;
}

/* BUTTONS */
.controls button{
    background:none;
    border:none;
    color:white;
    font-size:28px;
    margin:10px 20px;
}

/* PLAYLIST */
.playlist{
    width:90%;
    margin:20px auto;
}

.song{
    padding:12px;
    border-bottom:1px solid rgba(255,255,255,0.2);
}

.song.active{
    color:red;
}

/* EQUALIZER */
.equalizer{
    display:flex;
    justify-content:center;
    align-items:flex-end;
    height:60px;
    margin:15px 0;
}

.bar{
    width:6px;
    height:20px;
    margin:3px;
    animation:bounce 0.8s infinite ease-in-out;
    box-shadow:0 0 10px currentColor;
}

.bar:nth-child(1){ background:#ff0000; }
.bar:nth-child(2){ background:#ff7300; }
.bar:nth-child(3){ background:#ffee00; }
.bar:nth-child(4){ background:#00ff2a; }
.bar:nth-child(5){ background:#00c3ff; }
.bar:nth-child(6){ background:#8c00ff; }
.bar:nth-child(7){ background:#ff00c8; }

@keyframes bounce{
    0%,100%{height:15px;}
    50%{height:60px;}
}
</style>
</head>

<body>

<div id="bg"></div>

<div class="topbar">üéµ BHENZFLIX MUSIC</div>

<div class="album">
   <img id="cover" src="https://picsum.photos/400/400?random=1">
</div>

<div id="title">Loading...</div>

<input type="range" id="progress" value="0">

<div class="controls">
    <button onclick="prevSong()">‚èÆ</button>
    <button onclick="playPause()">‚ñ∂</button>
    <button onclick="nextSong()">‚è≠</button>
</div>

<div class="equalizer">
    <div class="bar"></div>
    <div class="bar"></div>
    <div class="bar"></div>
    <div class="bar"></div>
    <div class="bar"></div>
    <div class="bar"></div>
    <div class="bar"></div>
</div>

<div class="playlist" id="playlist"></div>

<audio id="audio"></audio>

<script>
const songs = [
{title:"Buried Alive - A7X", file:"04 - Avenged Sevenfold - Buried Alive.mp3"},
{title:"Unholy Confessions - A7X", file:"10 - Avenged Sevenfold - Unholy Confessions.mp3"},
{title:"Seize The Day - A7X", file:"13 - Avenged Sevenfold - Seize the Day.mp3"},
{title:"Nobody - A7X", file:"14 - Avenged Sevenfold - Nobody.mp3"},
{title:"Blinded in Chains - A7X", file:"18 - Avenged Sevenfold - Blinded in Chains.mp3"},
{title:"4:00 AM - A7X", file:"35 - Avenged Sevenfold - 4_00 AM.mp3"},
{title:"Crossroads - A7X", file:"37 - Avenged Sevenfold - Crossroads.mp3"}
];

let current = 0;
const audio = document.getElementById("audio");
const title = document.getElementById("title");
const progress = document.getElementById("progress");
const playlistDiv = document.getElementById("playlist");
const cover = document.getElementById("cover");

function loadSong(index){
    audio.src = songs[index].file;
    title.innerText = songs[index].title;

    // random cover every song
    cover.src = "https://picsum.photos/400/400?random=" + Math.random();

    highlight();
}

function playPause(){
    if(audio.paused){
        audio.play();
    } else {
        audio.pause();
    }
}

function nextSong(){
    current++;
    if(current >= songs.length) current = 0;
    loadSong(current);
    audio.play();
}

function prevSong(){
    current--;
    if(current < 0) current = songs.length-1;
    loadSong(current);
    audio.play();
}

audio.addEventListener("timeupdate",()=>{
    progress.value = (audio.currentTime / audio.duration) * 100;
});

progress.addEventListener("input",()=>{
    audio.currentTime = (progress.value / 100) * audio.duration;
});

audio.addEventListener("ended",()=>{
    nextSong();
});

function highlight(){
    const items = document.querySelectorAll(".song");
    items.forEach((el,i)=>{
        el.classList.remove("active");
        if(i===current) el.classList.add("active");
    });
}

function buildPlaylist(){
    songs.forEach((song,index)=>{
        const div = document.createElement("div");
        div.classList.add("song");
        div.innerText = song.title;
        div.onclick = ()=>{
            current=index;
            loadSong(current);
            audio.play();
        };
        playlistDiv.appendChild(div);
    });
}

buildPlaylist();
loadSong(current);
</script>

</body>
</html>
